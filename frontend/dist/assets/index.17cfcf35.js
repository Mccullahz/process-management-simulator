(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function d(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function u(o){if(o.ep)return;o.ep=!0;const s=d(o);fetch(o.href,s)}})();function g(){return window.go.main.App.FCFS()}function p(){return window.go.main.App.GeneratedProcesses()}function y(){return window.go.main.App.GetState()}function E(){return window.go.main.App.RR()}async function w(){try{const c=await p(),l=await g(),d=await y(),u=c.split(`
`),o=document.getElementById("result1");o.innerHTML="",u.forEach((i,m)=>{const e=document.createElement("div"),n=i.trim().split(/\s+/),t=parseInt(n[0]);e.id=`Proc-${t}`,e.textContent=i,e.style.fontSize="20px",e.style.webkitTextStroke=".5px black",o.appendChild(e)});const s=l.split(`
`),a=document.getElementById("result2");a.innerHTML="",s.forEach((i,m)=>{const e=document.createElement("div"),n=i.trim().split(/\s+/),t=parseInt(n[0]);isNaN(t)||(e.id=`FCFSProc-${t}`,e.style.opacity="0"),e.style.fontSize="20px",e.style.webkitTextStroke=".5px black",e.textContent=i,a.appendChild(e)}),d.forEach((i,m)=>{setTimeout(()=>{i.new.forEach(e=>{const n=document.getElementById(`Proc-${e}`);n&&(n.style.color="white")}),i.ready.forEach(e=>{const n=document.getElementById(`Proc-${e}`);n&&(n.style.color="yellow")}),i.running.forEach(e=>{const n=document.getElementById(`Proc-${e}`);n&&(n.style.color="green")}),i.terminated.forEach(e=>{const n=document.getElementById(`Proc-${e}`);if(n){n.style.color="red";const t=document.getElementById(`FCFSProc-${e}`);t.style.opacity="100"}})},m*500)})}catch(c){console.error("Error in simFCFS:",c)}}async function h(){try{const c=await p(),l=await E(),d=await y();console.log(d);const u=c.split(`
`),o=document.getElementById("result1");o.innerHTML="",u.forEach((e,n)=>{const t=document.createElement("div"),r=e.trim().split(/\s+/),f=parseInt(r[0]);t.id=`Proc-${f}`,t.textContent=e,t.style.fontSize="20px",t.style.webkitTextStroke=".5px black",o.appendChild(t)});const s=l.split(`
`),a=document.getElementById("result2");a.innerHTML="",s.forEach((e,n)=>{const t=document.createElement("div"),r=e.trim().split(/\s+/),f=parseInt(r[0]);isNaN(f)||(t.id=`RRProc-${n-2}`,t.style.opacity="0"),t.style.fontSize="20px",t.style.webkitTextStroke=".5px black",t.textContent=e,a.appendChild(t)});let i=0,m=-1;d.forEach((e,n)=>{setTimeout(()=>{e.new.forEach(t=>{const r=document.getElementById(`Proc-${t}`);r&&(r.style.color="white")}),e.ready.forEach(t=>{const r=document.getElementById(`Proc-${t}`);r&&(r.style.color="yellow")}),e.running.forEach(t=>{if(m!=t){const f=document.getElementById(`RRProc-${i}`);f.style.opacity="100",m=t,i+=1}const r=document.getElementById(`Proc-${t}`);r&&(r.style.color="green")}),e.waiting.forEach(t=>{const r=document.getElementById(`Proc-${t}`);r&&(r.style.color="orange")}),e.terminated.forEach(t=>{const r=document.getElementById(`Proc-${t}`);r&&(r.style.color="red")})},n*500)})}catch(c){console.error("Error in simFCFS:",c)}}window.Regenerate=function(){let c=parseInt(document.getElementById("randomGenerated").value,10);(isNaN(c)||c<=0)&&(c=5),window.go.main.App.Regenerate(c).then(l=>{}).catch(l=>{console.error("Failed to regenerate:",l)})};window.Simulate=function(){const c=document.getElementById("algoSelect").value;c==="FCFS"?w():c==="RR"&&h()};document.getElementById("algoSelect").addEventListener("change",function(){});
